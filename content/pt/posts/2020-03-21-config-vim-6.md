---
title: "Vim para dev Web - parte VI"
date: 2020-03-21T14:13:42-03:00
description: "Lint e Format - Melhorando a qualidade de c√≥digo no Vim"
toc: true
author: Alan Santos
authorEmoji: üë®üèª‚Äçüíª
authorDesc: IT Consultant
authorImage: "/images/whoami/avatar.jpg"
categories:
- Dev
tags:
- Vim
meta_image: "/images/meta/linter.jpg"
image:
draft: false
---


Prosseguindo na customiza√ß√£o do Vim atrav√©s da parametriza√ß√£o do `.vimrc`, vamos falar um pouco sobre verificadores de sintaxe e formatadores de c√≥digo. Para evitar que o artigo fique grande demais, decidi quebr√°-lo em 2 partes.

Hoje, na parte VI da s√©rie, trataremos sobre defini√ß√µes acerca do tema proposto. Deixaremos para a parte VII, as quest√µes relativas √† instala√ß√£o e configura√ß√£o desses utilit√°rios.

## Verificadores de sintaxe e formatadores de c√≥digo

 O que s√£o, onde moram, como vivem, o que comem.

### Verificadores de sintaxe - Linters

Linter vem da palavra "lint" que significa "fiapo ou penugem". O termo vem de um utilit√°rio usado na programa√ß√£o em linguagem C, existente no UNIX.

A fun√ß√£o de um utilit√°rio 'Lint' √© realizar uma an√°lise est√°tica do c√≥digo com objetivo de apontar e produzir uma lista de erros, advert√™ncias (warnings) e pontos de melhoria. Voc√™ n√£o vai querer produzir um tecido cheio de fiapos, n√£o √© mesmo?

### Formatadores de c√≥digo
Os formatadores de c√≥digo s√£o ferramentas que melhoram a legibilidade de um programa, aplicando regras de formata√ß√£o em conformidade com as boas pr√°ticas de desenvolvimento para uma determinada linguagem.

Vamos supor por exemplo,  que temos um c√≥digo formatado da seguinte maneira:
```

if (a==b){ printf("x");}`

```
Ao rodar um formatador sobre o c√≥digo, ele poder√° melhorar a legibilidade:
```

if (a == b) {
    printf("x");
  }

```
No caso acima, o utilit√°rio reformatou o c√≥digo, colocando espa√ßamentos, identa√ß√£o, etc, melhorando sua legibilidade e organiza√ß√£o.

### Estrat√©gias de utiliza√ß√£o

O processo de escrita de c√≥digo pode ser um tanto ma√ßante e sujeito a erros por parte do programador.

Utilit√°rios de verifica√ß√£o de erros e formatadores de c√≥digo s√£o ferramentas indispens√°veis para aumentar a produtividade e a qualidade no desenvolvimento, pois:
* tornam o c√≥digo mais leg√≠vel reduzindo custo de manuten√ß√£o
* poupam tempo na procura de erros simples

Quando um desenvolvedor vai utilizar um utilit√°rio de verifica√ß√£o e formata√ß√£o de c√≥digo, ele pode faz√™-lo a partir de 2 estrat√©gias de trabalho distintas:

#### S√≠ncrona:

O programador digita todo o c√≥digo e ent√£o roda o utilit√°rio de verifica√ß√£o ao salvar o arquivo.
* **Vantagens:**
  * O programador pode se concentrar no c√≥digo sem preocupar-se em parar para consertar erros. √â como se ele dividisse o trabalho em duas etapas: Primeiro codificar, segundo corrigir.
  * O programador pode executar a verifica√ß√£o do c√≥digo em lote, verificando por exemplo, v√°rios arquivos de um mesmo diret√≥rio.
* **Desvantagens:**
  * o utilit√°rio n√£o for√ßa a mudan√ßa do comportamento do programador. Logo, a evolu√ß√£o do programador para gera√ß√£o de c√≥digos com melhor qualidade, acabar√° sendo mais lenta.
  * essa estrat√©gia precisa ser realizada de forma pragm√°tica. Ou seja, o programador deve ter disciplina suficiente para NUNCA, JAMAIS, NUNQUINHA, esquecer de executar a etapa de verifica√ß√£o, ap√≥s o t√©rmino da codifica√ß√£o.


#### Ass√≠ncrona:

√Ä medida em que o programador vai digitando, o utilit√°rio vai verificando o c√≥digo e alertando sobre os erros.

* **Vantagens:**
  * Ao terminar de codificar, o programador j√° ter√° um c√≥digo com mais qualidade.
  * Ao ser alertado por erros enquanto digita, o programador acaba se tornando melhor, pois vai tomando ci√™ncia dos erros que produz e assim vai ajustando seu comportamento. Podemos dizer que a estrat√©gia ass√≠ncrona √© um tanto quanto behavorista.
  * O programador n√£o precisar√° executar a verifica√ß√£o no final do trabalho. Ele at√© pode fazer isso, se quiser, mas a lista de erros a corrigir (retrabalho), ser√° bem menor.
* **Desvantagens:**
  * a produtividade do programador acaba sendo mais baixa, pois ele tender√° a parar para corrigir os erros √† medida que os mesmos s√£o indicados. Mesmo melhorando com o tempo, esta quest√£o ir√° incidir. Somente o fato de um alerta aparecer enquanto o c√≥digo √© digitado, j√° pode ser suficiente para desviar parte da concentra√ß√£o.
  * a parametriza√ß√£o dos utilit√°rios para ficarem monitorando o c√≥digo digitado √© um pouco mais chata. Al√©m disso, podem tornar o editor de c√≥digos um pouco mais lento. Em alguns momentos o programador poder√° perceber um "lag" durante a digita√ß√£o, no momenot em que o utilit√°rio corre sobre o c√≥digo e detecta um erro.

## Boas pr√°ticas de CI/CD

Bons programadores s√£o antes de tudo, pragm√°ticos.  Muitos optam por adotar tanto a estrat√©gia de verifica√ß√£o ass√≠ncrona quanto a s√≠ncrona. Ou seja, eles deixam os utilit√°rios de verifica√ß√£o trabalharem enquanto digita o c√≥digo, mas n√£o deixar√° de rod√°-los novamente na hora de salvar o arquivo ou mesmo durante o processo de deploy.

Em ambientes de produ√ß√£o ali√°s, √© muito indicado que os processos de CI/CD (integra√ß√£o cont√≠nua e deploy cont√≠nuo) incluam as etapas de verifica√ß√£o de erros e formata√ß√£o, impedindo o build e deploy com erros de sintaxe ou c√≥digo mal formatado, aumentando a estabilidade de aplica√ß√µes em produ√ß√£o.

## Analisadores de Sintaxe e formatadores de c√≥digo no Vim

Existem v√°rios plugins para formatar e verificar erros de c√≥digo usando o editor Vim. √â preciso cuidado ao instalar e utilizar esses plugins, pois os mesmos podem conflitar entre si, podendo acarretar o efeito inverso ao que se prop√µem.

No Vim, muitos programadores desistem de usar tais utilit√°rios, justamente pela dificuldade em configur√°-los para se obter o resultado esperado. No pr√≥ximo artigo, falaremos sobre a instala√ß√£o n√£o conflitante de 3 plugins:

ALE - Plugin para monitoramento ass√≠ncrono de c√≥digo
ESLint - um utilit√°rio de an√°lise sint√°tica de c√≥digo
Prettier - um utilit√°rio de formata√ß√£o de c√≥digo.

At√© l√°...
